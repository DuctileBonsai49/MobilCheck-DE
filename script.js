const loesungen = {
  "SIMON": {
    "Roaming": {
      text: "Stelle sicher, dass Datenroaming in deinen Smartphone-Einstellungen aktiviert ist. Pr√ºfe im <a href='https://www.simonmobile.de/mein-simon' target='_blank'>SIMON Kundenportal</a>, ob Roaming freigeschaltet ist. Bei Problemen wende dich an den <a href='https://www.simonmobile.de/hilfe/kontakt' target='_blank'>SIMON Support</a>.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/SIMon_mobile_Logo.svg/512px-SIMon_mobile_Logo.svg.png"
    },
    "Netzprobleme": {
      text: "SIMon nutzt das Vodafone-Netz. Pr√ºfe die Netzabdeckung auf der <a href='https://www.vodafone.de/hilfe/netz' target='_blank'>Vodafone Netz-Checker</a>. Starte dein Ger√§t neu oder deaktiviere kurz den Flugmodus.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/SIMon_mobile_Logo.svg/512px-SIMon_mobile_Logo.svg.png"
    },
    "Vertragsdaten": {
      text: "Logge dich im <a href='https://www.simonmobile.de/mein-simon' target='_blank'>SIMON Kundenportal</a> ein, um deine Vertragsdaten, Laufzeiten und Optionen einzusehen.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/SIMon_mobile_Logo.svg/512px-SIMon_mobile_Logo.svg.png"
    },
    "SIM-Aktivierung": {
      text: "Die Aktivierung erfolgt automatisch beim Einlegen der SIM. Wenn Probleme auftreten, besuche das <a href='https://www.simonmobile.de/hilfe' target='_blank'>SIMON Hilfe-Center</a>.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/SIMon_mobile_Logo.svg/512px-SIMon_mobile_Logo.svg.png"
    }
  },
  "TELEKOM": {
    "Roaming": {
      text: "Logge dich ins <a href='https://www.telekom.de/kundencenter' target='_blank'>Telekom Kundencenter</a> ein und pr√ºfe, ob Roaming f√ºr deinen Tarif aktiv ist. Aktiviere dann unter Einstellungen > Mobiles Netz > Datenroaming.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Telekom_Logo_2013.svg/512px-Telekom_Logo_2013.svg.png"
    },
    "Netzprobleme": {
      text: "Aktuelle Netzst√∂rungen findest du auf der <a href='https://www.telekom.de/hilfe/netzstoerung' target='_blank'>Telekom St√∂rungsseite</a>. Versuche zudem einen manuellen Netzwechsel und einen Neustart des Ger√§ts.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Telekom_Logo_2013.svg/512px-Telekom_Logo_2013.svg.png"
    },
    "Vertragsdaten": {
      text: "Alle Vertragsdetails siehst du im <a href='https://www.telekom.de/kundencenter' target='_blank'>Kundencenter</a> oder in der Magenta App.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Telekom_Logo_2013.svg/512px-Telekom_Logo_2013.svg.png"
    },
    "SIM-Aktivierung": {
      text: "Neue SIM-Karten aktivierst du im <a href='https://www.telekom.de/kundencenter' target='_blank'>Kundencenter</a>. Folge den Anweisungen zur Identifikation.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Telekom_Logo_2013.svg/512px-Telekom_Logo_2013.svg.png"
    }
  },
  "VODAFONE": {
    "Roaming": {
      text: "Melde dich bei <a href='https://www.vodafone.de/meinvodafone' target='_blank'>MeinVodafone</a> an und aktiviere Roaming. Im Handy unter Mobile Daten > Datenroaming einschalten.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Vodafone_icon_2022.svg/512px-Vodafone_icon_2022.svg.png"
    },
    "Netzprobleme": {
      text: "Pr√ºfe den <a href='https://www.vodafone.de/hilfe/netz' target='_blank'>Vodafone Netz-Checker</a>. Ein Neustart oder Flugmodus-Toggle hilft oft.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Vodafone_icon_2022.svg/512px-Vodafone_icon_2022.svg.png"
    },
    "Vertragsdaten": {
      text: "Alle Infos zu deinem Vertrag findest du in <a href='https://www.vodafone.de/meinvodafone' target='_blank'>MeinVodafone</a>.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Vodafone_icon_2022.svg/512px-Vodafone_icon_2022.svg.png"
    },
    "SIM-Aktivierung": {
      text: "SIM-Karten aktivierst du in <a href='https://www.vodafone.de/meinvodafone' target='_blank'>MeinVodafone</a> oder per Anleitung im Paket.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Vodafone_icon_2022.svg/512px-Vodafone_icon_2022.svg.png"
    }
  },
  "O2": {
    "Roaming": {
      text: "Gehe zu <a href='https://www.o2online.de' target='_blank'>Mein O2</a>, pr√ºfe dein Roaming-Recht und aktiviere Datenroaming im Handy.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Telef%C3%B3nica_O2_Deutschland_2011_logo.svg/512px-Telef%C3%B3nica_O2_Deutschland_2011_logo.svg.png"
    },
    "Netzprobleme": {
      text: "Aktuelle St√∂rungen siehst du beim <a href='https://www.o2online.de/netz/netzstoerung/' target='_blank'>Netz-Check</a>. Versuche Neustart oder Flugmodus ein/aus.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Telef%C3%B3nica_O2_Deutschland_2011_logo.svg/512px-Telef%C3%B3nica_O2_Deutschland_2011_logo.svg.png"
    },
    "Vertragsdaten": {
      text: "Vertragsdetails findest du in der Mein O2 App oder auf <a href='https://www.o2online.de' target='_blank'>o2online.de</a>.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Telef%C3%B3nica_O2_Deutschland_2011_logo.svg/512px-Telef%C3%B3nica_O2_Deutschland_2011_logo.svg.png"
    },
    "SIM-Aktivierung": {
      text: "SIM wird beim ersten Einlegen automatisch aktiviert. Bei Problemen siehe <a href='https://www.o2online.de/service' target='_blank'>o2 Service</a>.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Telef%C3%B3nica_O2_Deutschland_2011_logo.svg/512px-Telef%C3%B3nica_O2_Deutschland_2011_logo.svg.png"
    }
  },
  "1&1": {
    "Roaming": {
      text: "Logge dich im <a href='https://kundenshop.1und1.de/login' target='_blank'>1&1 Control-Center</a> ein und aktiviere Roaming. Danach Datenroaming im Handy einschalten.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/1%261_Logo_2021.svg/512px-1%261_Logo_2021.svg.png"
    },
    "Netzprobleme": {
      text: "√úberpr√ºfe auf der <a href='https://www.1und1.de/netz' target='_blank'>1&1 Netzabdeckungskarte</a>. Neustart und Flugmodus-Toggle probieren.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/1%261_Logo_2021.svg/512px-1%261_Logo_2021.svg.png"
    },
    "Vertragsdaten": {
      text: "Alle Vertragsdetails findest du im <a href='https://kundenshop.1und1.de/login' target='_blank'>1&1 Control-Center</a>.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/1%261_Logo_2021.svg/512px-1%261_Logo_2021.svg.png"
    },
    "SIM-Aktivierung": {
      text: "Aktiviere deine SIM im 1&1 Control-Center. Folge den Schritten zur Identifikation und PIN-Eingabe.",
      logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/1%261_Logo_2021.svg/512px-1%261_Logo_2021.svg.png"
    }
  }
};

const translations = {
  de: {
    title: "Mobilfunkhilfe",
    description: "W√§hle deinen Anbieter und ein Thema, um passende L√∂sungsvorschl√§ge zu erhalten.",
    labelProvider: "Anbieter:",
    labelTopic: "Thema:",
    noSolution: "F√ºr diese Kombination liegt kein L√∂sungsvorschlag vor.",
    buttonText: "L√∂sungen anzeigen"
  },
  en: {
    title: "Mobile Support",
    description: "Select your provider and a topic to see available solutions.",
    labelProvider: "Provider:",
    labelTopic: "Topic:",
    noSolution: "No solution available for this combination.",
    buttonText: "Show Solutions"
  }
};

// DOM-Elemente
const anbieterSelect = document.getElementById("anbieter");
const themaSelect = document.getElementById("thema");
const loesungDiv = document.getElementById("loesung");
const checkBtn = document.getElementById("checkBtn");
const langSelect = document.getElementById("languageSwitch");
const emojiSpan = document.getElementById("languageEmoji");

// L√∂sungen anzeigen
checkBtn.addEventListener("click", () => {
  const anbieter = anbieterSelect.value;
  const thema = themaSelect.value;
  const lang = langSelect.value;

  if (loesungen[anbieter] && loesungen[anbieter][thema]) {
    const info = loesungen[anbieter][thema];
    loesungDiv.innerHTML = `
      <p>${info.text}</p>
      <img src="${info.logo}" alt="${anbieter} Logo">
    `;
  } else {
    loesungDiv.innerHTML = `<p>${translations[lang].noSolution}</p>`;
  }
  loesungDiv.classList.add("visible");
});

// Sprachumschaltung
langSelect.addEventListener("change", (e) => {
  const lang = e.target.value;
  document.getElementById("title").innerText = translations[lang].title;
  document.getElementById("description").innerText = translations[lang].description;
  document.getElementById("labelProvider").innerText = translations[lang].labelProvider;
  document.getElementById("labelTopic").innerText = translations[lang].labelTopic;
  checkBtn.innerText = translations[lang].buttonText;
  emojiSpan.textContent = lang === "de" ? "üá©üá™" : "üá¨üáß";
});

// Dark Mode
document.getElementById("toggleTheme").addEventListener("click", () => {
  document.body.classList.toggle("dark");
});

// Live-Suche
document.getElementById("searchInput").addEventListener("input", (e) => {
  const val = e.target.value.toLowerCase();
  for (let provider in loesungen) {
    for (let topic in loesungen[provider]) {
      const info = loesungen[provider][topic];
      if (info.text.toLowerCase().includes(val)) {
        loesungDiv.innerHTML = `
          <p>${info.text}</p>
          <img src="${info.logo}" alt="${provider} Logo">
        `;
        loesungDiv.classList.add("visible");
        return;
      }
    }
  }
  loesungDiv.innerHTML = `<p>Keine passende L√∂sung gefunden.</p>`;
  loesungDiv.classList.add("visible");
});